
pre-commit:
  commands:
    biome:
      run: pnpm biome format --write
      stage_fixed: true
    check-lockfiles:
      run: |
        if [ -f package-lock.json ] || [ -f yarn.lock ]; then
          echo "‚ùå ERROR: package-lock.json or yarn.lock detected!"
          echo "üö® This project uses PNPM. Please:"
          echo "   1. Remove package-lock.json or yarn.lock"
          echo "   2. Run 'pnpm install' instead"
          echo "   3. Use 'pnpm add <package> --filter <workspace>' to add dependencies"
          exit 1
        fi

prepare-commit-msg:
  commands:
    commitizen:
      interactive: true
      run: |
        if [ -n "$(git diff --cached --name-only)" ]; then
          pnpm exec cz --hook
        fi

commit-msg:
  commands:
    "lint commit message":
      run: pnpm exec commitlint --edit {1}
